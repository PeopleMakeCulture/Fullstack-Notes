FS Intro to Node

1. What is node?

   - A program that allows you to run js outisde the browser
   - A JS runtime enviornment
   - Allows code to run on an operating system rather than a server
   - Uses an event-driven, non-blocking I/O model
   - V8 Engine - The engine is an interpreter? (VM) Analogy: it's like the chef running the recipe - interprets js as c++
   - Sierra: Operating system for Node

2. What is npm init?

   - it creates a package.json file to store dependencies
   - sets up a config file

3) What is a modules?

- A Node module is a JS library specific to the Node ecosystem - An object - `exports` - `require`

- `__dirname __filename module require`
- The `require` function - tells the machine in needs to import all or part of a module - finds, executes, importas - you can leave off the .js in the file path
  path to directory will look for index.js - npm - package manager (like homebrew) - manages dependencies - package.json - like a table of contents - lists dependencies, among other things - Use a CLI to write the package.json ourselves - package.lock - library of our depdendencies' dependencies - locks in our dependencies - automatically generated by node at `npm install` - if it's not working, just delete it; another one will be automatically generated - Version control: ^ means at least this version
  Sample Code:

```
module.export = {
  exportFunction()
}

const myModule = require(`(.myModule)

```

3. 1 How Does `const express = require('express')` work?

   - const express is a function call, which triggers the express app (which is itself a function?)

4. What is a server?

   - listens to requests
   - responds to those requests
   - like a "server" at a restaurant--you tell the server what you want, and the server either gives it to you or gives you an error message

5. Program vs. Process

   - program is code, like a recipe; process is running the code, the cake itself
   - program is data; process is excecution
     Q: Is a process the same as a thread?

6. Single vs. Multi Threaded

   - js is single-threaded, but node allows for async execution

7. The Event Loop (or Callstack)

   - Requires two data structures:
     1. Stacks - first in, last out (FILO)
     2. Quese - first in, first out (FIFO)
   - Executes functions in a non-blocking manner

8. Asynchronous Coding

   - handle tasks concurrently
   - delegate tasks
   - functions are executed independent of the order in which they are declared
   - often follow this callback pattern `asynchThing(function(err, func))`
   - Callstack has to be empty before async functions run

9. Promises
   - Used to simplify asynch functions
   - Returns an object representing [the eventual result of] a future event, instead of representing an action to take place in the future
   - Has - A value and a status
     `value = undefined/returnValue` - And a status
     `status = pending/fulfilled`
   - `await` keyword - returns the return value, not the promise object - use `await` with `async function` - eg `async getFile() => { const num = await readFile('myFile.txt') } getFile();` - readFile is an example of an async function that returns a promise
   - `Promise.resolve` - ensures that the value you give it is wrapped in a promise - if it's a new promise, it immediately finishes with your value as the result - if it already exists, it returns the promise -`.then()` method - callback to the promise - returns another promise, which resolves to the value that the handler function returns, etc.
   - The _Promise constructor_
     `return new Promise(resolve => { do something })`

```
promise.then((result) => {
  console.log(result); // "Stuff worked!"
}, function(err) {
  console.log(err); // Error: "It broke"
});
```

    - then(successCaseFunction(),failCaseFunction())

# Node Modules

1. File System module: https://nodejs.org/api/fs.html

   - API for interaction with the file system
   - A global module in Node npm for reading/writing functions to a string
   - readFile is an example of an async function that returns a promise
     `const {readFile} = fs; //this is asynchronous because we don't know how long it will take to read a file, it could be from a far away server let prediction; readFile('.characters.tst', 'utf8', (err, data) => { if (err) { console.log("oops") } else { prediction = data console.log("this prediction is fulfilled") //fulfilled } }) console.log("This is my unfulfilled", prediction) //not fulfilled bc it is exceuted before the read file`
     - has methods like mkdir, open, close, rename, readFile, writeFile, appendFile, appendFileSync, createReadStrewam, createWriteStreawm, stat
     - also has a Promises API `require('fs').promises`

2. HTTP Module: https://nodejs.org/api/http.html

- low level API to deal with stream handling and message parsing when working with HTTP requests and responses
- pareses a message into headers and body; does not parse actual headers or body
- emits events?
- methods include: createServer
  eg:

  ```
  const server = http.createServer((req, res) => {
    res.writeHead(200, {'Content-Type': 'text/plain'});
    res.end('okay');
  });
  ```

  3. Path Module: https://nodejs.org/api/path.html

  - utilities for working with file and directory paths

  4. Body Parser: https://www.npmjs.com/package/body-parser
